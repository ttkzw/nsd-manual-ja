<!DOCTYPE html>
<html class="writer-html5" lang="ja" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; NSD 4.3.9 ドキュメント</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/dark.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/light.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Name Server Daemon (NSD) by NLnet Labs" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/nsd-duotone-white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.3.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-with-a-package-manager">Installing with a package manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#debian-ubuntu">Debian/Ubuntu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#building-from-source-compiling">Building from source/Compiling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ubuntu-20-04-lts">Ubuntu 20.04 LTS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="zonefile.html">Zonefile example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Running</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="running/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="running/using-tsig.html">Using Transaction Signature (TSIG)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running/zone-expiry.html">Zone Expiry of Secondary Zones</a></li>
<li class="toctree-l1"><a class="reference internal" href="running/interfaces.html">Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="running/tuning.html">Tuning</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manual Pages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="manpages/nsd.html">nsd(8)</a></li>
<li class="toctree-l1"><a class="reference internal" href="manpages/nsd-checkconf.html">nsd-checkconf(8)</a></li>
<li class="toctree-l1"><a class="reference internal" href="manpages/nsd-checkzone.html">nsd-checkzone(8)</a></li>
<li class="toctree-l1"><a class="reference internal" href="manpages/nsd.conf.html">nsd.conf(5)</a></li>
<li class="toctree-l1"><a class="reference internal" href="manpages/nsd-control.html">nsd-control(8)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference/configure-options.html">Configure Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/log-diagnosis.html">Diagnosing NSD Log Entries</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/grammar.html">Grammar for DNS Zone Files</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NSD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="この見出しへのパーマリンク">¶</a></h1>
<p>To install your own copy of NSD you have two options: use the version provided
by your package manager, or download the source and building it yourself.</p>
<p>Installing via the <a class="reference external" href="https://repology.org/project/nsd/versions">package manager</a> is the easiest option, and on most
systems even trivial. The downside is the distributed version can be outdated
for some distributions or not have all the compile-time options included that
you want. Building and compiling NSD yourself ensures that you have the latest
version and all the compile-time options you desire.</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="この見出しへのパーマリンク">¶</a></h2>
<p>NSD consists of two programs: the zone compiler <code class="docutils literal notranslate"><span class="pre">zonec</span></code> and the name server
<code class="docutils literal notranslate"><span class="pre">nsd</span></code> itself. The name server works with an intermediate database prepared by
the zone compiler from standard zone files.</p>
<p>For NSD operation this means that zones have to be compiled by <code class="docutils literal notranslate"><span class="pre">zonec</span></code> before
NSD can use them. All this can be controlled via <code class="docutils literal notranslate"><span class="pre">rc.d</span></code> (SIGTERM,  SIGHUP) or
<strong class="command">nsd-control</strong>, and uses a simple configuration file  <code class="docutils literal notranslate"><span class="pre">nsd.conf</span></code>.</p>
</section>
<section id="installing-with-a-package-manager">
<h2>Installing with a package manager<a class="headerlink" href="#installing-with-a-package-manager" title="この見出しへのパーマリンク">¶</a></h2>
<p>Most package managers maintain a version of NSD, although this version can be
outdated if this package has not been updated recently. If you like to upgrade
to the latest version, we recommend <span class="xref std std-ref">compiling NSD yourself</span>.</p>
<section id="debian-ubuntu">
<h3>Debian/Ubuntu<a class="headerlink" href="#debian-ubuntu" title="この見出しへのパーマリンク">¶</a></h3>
<p>Installing NSD with the built-in package manager should be as easy as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>nsd
</pre></div>
</div>
<p>This gives you a compiled and running version of NSD ready to <a class="reference internal" href="configuration.html"><span class="doc">be
configured</span></a>.</p>
</section>
</section>
<section id="building-from-source-compiling">
<h2>Building from source/Compiling<a class="headerlink" href="#building-from-source-compiling" title="この見出しへのパーマリンク">¶</a></h2>
<section id="ubuntu-20-04-lts">
<h3>Ubuntu 20.04 LTS<a class="headerlink" href="#ubuntu-20-04-lts" title="この見出しへのパーマリンク">¶</a></h3>
<p>First of all, we need our copy of the NSD code. <a class="reference external" href="https://nlnetlabs.nl/projects/nsd/about/">On our website</a> you can find the latest version and
the changelog. In this example we'll use version 4.3.7. Please note that this is not the latest version currently.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://nlnetlabs.nl/downloads/nsd/nsd-4.3.7.tar.gz
tar<span class="w"> </span>xzf<span class="w"> </span>nsd-4.3.7.tar.gz
</pre></div>
</div>
<p>We'll need some tools, such as a compiler and the <strong class="command">make</strong> program.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>build-essential
</pre></div>
</div>
<p>The library components NSD needs are: <code class="docutils literal notranslate"><span class="pre">libssl</span></code> and <code class="docutils literal notranslate"><span class="pre">libevent</span></code>, of which we need
the &quot;dev&quot; version.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>libssl-dev
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>libevent-dev
</pre></div>
</div>
<p>We'll also need the tools to build the actual program. For this, NSD uses
<strong class="command">make</strong> and internally it uses <code class="docutils literal notranslate"><span class="pre">flex</span></code> and <code class="docutils literal notranslate"><span class="pre">yacc</span></code>, which we need to
download as well.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>bison
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>flex
</pre></div>
</div>
<p>With all the requirements met, we can now start the compilation process in the
NSD directory.  The first step here is configuring. With <code class="xref std std-option docutils literal notranslate"><span class="pre">./configure</span>
<span class="pre">-h</span></code> you can look at the extensive list of configurables for NSD. A nice
feature is that <strong class="command">configure</strong> will tell you what it's missing during
configuration.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./configure
</pre></div>
</div>
<p>If <strong class="command">configure</strong> gives no errors, we can continue to actually try compiling
NSD using <strong class="command">make</strong>; compilation might take a while.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<p>After successfully compiling, we can install NSD to make it available for
the machine.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>We now have fully compiled and installed version of NSD, and can continue
to testing it.</p>
</section>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="この見出しへのパーマリンク">¶</a></h2>
<p>A simple test to determine if the installation was successful is to invoke the
<strong class="command">nsd</strong> command with the <a class="reference internal" href="manpages/nsd.html#cmdoption-V"><code class="xref std std-option docutils literal notranslate"><span class="pre">-V</span></code></a> option, which is the &quot;version&quot;
option. This shows the version and build options used and proves installation
was successful.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nsd<span class="w"> </span>-v
</pre></div>
</div>
<p>If all the previous steps were successful we can continue to configuring our NSD
instance.</p>
<p>Another handy trick you can use during testing is to run NSD in the foreground
using the <a class="reference internal" href="manpages/nsd.html#cmdoption-d"><code class="xref std std-option docutils literal notranslate"><span class="pre">-d</span></code></a> option and increase the verbosity level using the
<a class="reference internal" href="manpages/nsd.html#cmdoption-V"><code class="xref std std-option docutils literal notranslate"><span class="pre">-V</span> <span class="pre">3</span></code></a> option. This allows you to see steps NSD takes and also where it
fails.</p>
<p>Now that NSD is installed we can <a class="reference internal" href="configuration.html"><span class="doc">continue to configuring
it</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Name Server Daemon (NSD) by NLnet Labs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2001–2024, NLnet Labs.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>